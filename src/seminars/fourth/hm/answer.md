1) Использование тестовых заглушек полезно при написании модульных тестов по нескольким причинам:
* Заглушки позволяют изолировать тестируемый компонент от зависимостей, таких как внешние службы, базы данных или другие классы. Это делает тесты более предсказуемыми и стабильными.
* Заглушки позволяют имитировать различные сценарии и условия, что позволяет тестировать разные пути выполнения кода.
* Заглушки обеспечивают контроль над входными данными и поведением зависимостей, что упрощает проверку различных условий и ошибок.

2) Для проверки, что метод был вызван с определенными аргументами, следует использовать Mock заглушки. Mock заглушки позволяют задать ожидания относительно вызовов методов с определенными аргументами и проверить, что они были выполнены.

3) Для возвращения определенного значения или исключения в ответ на вызов метода следует использовать Stub заглушки. Stub заглушки предоставляют желаемые результаты вызовов методов, независимо от их аргументов.

4) Для имитации взаимодействия с внешним API или базой данных следует использовать Spy заглушки. Spy заглушки могут записывать информацию о вызовах методов и их аргументах, что позволяет проверить, что ожидаемые вызовы были выполнены.